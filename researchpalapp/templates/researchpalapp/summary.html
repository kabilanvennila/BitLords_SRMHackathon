{% load static %}
<title> Summary ðŸŽ¤ </title> 
<link rel="icon" type="image/x-icon" href="{% static 'researchpalapp/images/logo.jpeg' %}">
<link rel="stylesheet" href="{% static 'researchpalapp/css/summary.css' %}" >
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" />
<script type="text/javascript" src="{% static 'researchpalapp/js/texttospeech.js' %}"></script>

<nav class="navbar navbar-dark bg-primary">
  <a class="navbar-brand" href="#" style="padding-left: 1%; padding-right: 2%;">
    <img src="{% static 'researchpalapp/images/logo.jpeg' %}" width="50" height="50" alt="">   ShortSmry
  </a>
</nav>

<body>
<div class="but">
    <button type="button" class="btn btn-success mt-5 me-3"  onclick="textToAudio()">Speak</button>
    <button id="pause" type="button" class="btn btn-warning mt-5 me-3" onclick="pause()">Pause</button>
    <button id="resume" class="btn btn-primary mt-5 me-3" type="button" onclick="resume()">Resume</button>
    <button id="stop" class="btn btn-danger mt-5 me-3" type="button" onclick="stop()">Stop</button>
    <a href="{% url 'my_file' %}" ><button id="try" class="btn btn-dark mt-5 me-3" type="button" onclick="stop()">Try Another</button></a>
</div>

<script>
    function textToAudio() {
        let speech = new SpeechSynthesisUtterance();
        speech.lang = "en-US";
        
        speech.text = "{{summ}}";
        speech.volume = 1;
        speech.rate = 1;
        speech.pitch = 1;
        
        window.speechSynthesis.speak(speech);
    }

    function pause() {
      //   let msg = document.getElementById("speech").value;
      window.speechSynthesis.pause();
    }

    function resume() {
      //   let msg = document.getElementById("speech").value;
      window.speechSynthesis.resume();
    }

    function stop() {
      //   let msg = document.getElementById("speech").value;
      window.speechSynthesis.cancel();
    }

</script>


<div id="terminal">
    <div class="header-terminal">
      <ul>
        <li><a class="close" href="#"></a></li>
        <li><a class="minimize" href="#"></a></li>
        <li><a class="maximize" href="#"></a></li>
      </ul>
    </div>
    <div class="body-terminal">
      <code id="speech">
       {{ summ }} 
      </code>
    </div>
  </div>
</body>